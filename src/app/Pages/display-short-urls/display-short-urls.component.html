<div class="container">
  <div class="header">
    <h2>ğŸ“‹ Short URLs</h2>
    <button class="btn btn-add" (click)="onAddUrl()" *ngIf="isUserAuthorized()">â• Short new URL</button>
  </div>

  <div *ngIf="isLoading" class="loader">
    â³ Loading your short URLs...
  </div>

  <ul *ngIf="!isLoading" class="url-list">
    <li *ngFor="let url of receivedInfo" class="url-item">
    <div class="url-content">
          <div class="url-actions" *ngIf="isUserAuthorized()">
            <button class="btn btn-view" (click)="onView(url.id)">ğŸ” Review</button>
            <button class="btn btn-delete" (click)="onDelete(url.code)" [class.active]="isUserAllowedToDelete(url.ownerId)">ğŸ—‘ï¸ Delete</button>
          </div>
          <div class="url-info">
            <p>
              <strong>ğŸ”— Code: </strong>
              <a [routerLink]="['/', url.code]" class="code-link">{{ url.code }}</a>
            </p>
            <p><strong>ğŸŒ Long URL: </strong> {{ url.longUrl }}</p>
            <p><strong>ğŸ•’ Created At: </strong> {{ url.createdAt }}</p>
          </div>
        </div>
    </li>
  </ul>
</div>

<app-add-short-url-modal
  *ngIf="isModalOpen"
  (add)="onModalAdd($event)"
  (close)="onModalClose()"
  [errorMessage]="modalErrorMessage"
></app-add-short-url-modal>


